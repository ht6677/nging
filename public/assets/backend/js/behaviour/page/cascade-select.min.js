(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e}else{e(jQuery)}})(function(u){function v(s,e,l,o,f){if(!f)f=BACKEND_URL+"/tool/area/index";u.get(f,{pid:e},function(e){if(e.Code!=1){return App.message({text:e.Info,type:"error"})}if(e.Data.listData.length<1){while(u(s).next("select").length>0)u(s).next("select").remove();u(s).remove();return}u(s).show(a);var t=u(s).data("exclude");var a='<option value=""> - '+(App.i18n.PLEASE_SELECT?App.i18n.PLEASE_SELECT:"请选择")+" - </option>";for(var i=0;i<e.Data.listData.length;i++){var n=e.Data.listData[i];var r=l==n.id?" selected":"";if(t==n.id)r+=" disabled";a+='<option value="'+n.id+'"'+r+">"+n.name+"</option>"}u(s).html(a);d(s,o,f).trigger("change")},"json")}function d(f,d,c){if(u(f).data("bindEvent")){return u(f)}u(f).data("bindEvent",true);return u(f).on("change",function(){var e=u(this).val();var t=u(this).attr("name");var a=u(this).attr("class");var i=Number(u(this).attr("pos")||0);var n=u(this).data("target");var r=u(this).data("exclude");if(e==""||e=="0"){if(i==0&&n)u(n).val(e);while(u(f).next("select").length>0)u(f).next("select").remove();return}if(n)u(n).val(e);var s=i+1;if(u(this).next("select").length<1){var l=' pos="'+s+'"';if(t)l+=' name="'+t+'"';if(a)l+=' class="'+a+'"';if(n)l+=' data-target="'+n+'"';if(r)l+=' data-exclude="'+r+'"';u(this).after("<select"+l+' style="display:none"></select>')}var o="";if(u.isArray(d)&&d.length>s)o=d[s];v(u(this).next("select")[0],e,o,d,c)})}window.CascadeSelect={init:function(e,t,a){v(e,0,t?t[0]:"",t,a)}};return window.CascadeSelect});