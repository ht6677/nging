(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(u){var p={exports:{}};(function(){var o,t,i,e,d,c,n,r,l=[].slice,s={}.hasOwnProperty,a=function(e,t){for(var i in t){if(s.call(t,i))e[i]=t[i]}function n(){this.constructor=e}n.prototype=t.prototype;e.prototype=new n;e.__super__=t.prototype;return e};n=function(){};t=function(){function e(){}e.prototype.addEventListener=e.prototype.on;e.prototype.on=function(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e]){this._callbacks[e]=[]}this._callbacks[e].push(t);return this};e.prototype.emit=function(){var e,t,i,n,r,s;n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[];this._callbacks=this._callbacks||{};i=this._callbacks[n];if(i){for(r=0,s=i.length;r<s;r++){t=i[r];t.apply(this,e)}}return this};e.prototype.removeListener=e.prototype.off;e.prototype.removeAllListeners=e.prototype.off;e.prototype.removeEventListener=e.prototype.off;e.prototype.off=function(e,t){var i,n,r,s,o;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}n=this._callbacks[e];if(!n){return this}if(arguments.length===1){delete this._callbacks[e];return this}for(r=s=0,o=n.length;s<o;r=++s){i=n[r];if(i===t){n.splice(r,1);break}}return this};return e}();o=function(e){var N,U;a(R,e);R.prototype.Emitter=t;R.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];R.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return n},forceFallback:false,fallback:function(){var e,t,i,n,r,s;this.element.className=""+this.element.className+" dz-browser-not-supported";s=this.element.getElementsByTagName("div");for(n=0,r=s.length;n<r;n++){e=s[n];if(/(^| )dz-message($| )/.test(e.className)){t=e;e.className="dz-message";continue}}if(!t){t=R.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(t)}i=t.getElementsByTagName("span")[0];if(i){if(i.textContent!=null){i.textContent=this.options.dictFallbackMessage}else if(i.innerText!=null){i.innerText=this.options.dictFallbackMessage}}return this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};i=e.width/e.height;t.optWidth=this.options.thumbnailWidth;t.optHeight=this.options.thumbnailHeight;if(t.optWidth==null&&t.optHeight==null){t.optWidth=t.srcWidth;t.optHeight=t.srcHeight}else if(t.optWidth==null){t.optWidth=i*t.optHeight}else if(t.optHeight==null){t.optHeight=1/i*t.optWidth}n=t.optWidth/t.optHeight;if(e.height<t.optHeight||e.width<t.optWidth){t.trgHeight=t.srcHeight;t.trgWidth=t.srcWidth}else{if(i>n){t.srcHeight=e.height;t.srcWidth=t.srcHeight*n}else{t.srcWidth=e.width;t.srcHeight=t.srcWidth/n}}t.srcX=(e.width-t.srcWidth)/2;t.srcY=(e.height-t.srcHeight)/2;return t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(i){var e,t,n,r,s,o,l,a,u,p,d,c,h;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){i.previewElement=R.createElement(this.options.previewTemplate.trim());i.previewTemplate=i.previewElement;this.previewsContainer.appendChild(i.previewElement);p=i.previewElement.querySelectorAll("[data-dz-name]");for(r=0,l=p.length;r<l;r++){e=p[r];e.textContent=this._renameFilename(i.name)}d=i.previewElement.querySelectorAll("[data-dz-size]");for(s=0,a=d.length;s<a;s++){e=d[s];e.innerHTML=this.filesize(i.size)}if(this.options.addRemoveLinks){i._removeLink=R.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");i.previewElement.appendChild(i._removeLink)}t=function(t){return function(e){e.preventDefault();e.stopPropagation();if(i.status===R.UPLOADING){return R.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(i)})}else{if(t.options.dictRemoveFileConfirmation){return R.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(i)})}else{return t.removeFile(i)}}}}(this);c=i.previewElement.querySelectorAll("[data-dz-remove]");h=[];for(o=0,u=c.length;o<u;o++){n=c[o];h.push(n.addEventListener("click",t))}return h}},removedfile:function(e){var t;if(e.previewElement){if((t=e.previewElement)!=null){t.parentNode.removeChild(e.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,s;if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");s=t.previewElement.querySelectorAll("[data-dz-thumbnail]");for(n=0,r=s.length;n<r;n++){i=s[n];i.alt=t.name;i.src=e}return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,r,s,o;if(e.previewElement){e.previewElement.classList.add("dz-error");if(typeof t!=="String"&&t.error){t=t.error}s=e.previewElement.querySelectorAll("[data-dz-errormessage]");o=[];for(n=0,r=s.length;n<r;n++){i=s[n];o.push(i.textContent=t)}return o}},errormultiple:n,processing:function(e){if(e.previewElement){e.previewElement.classList.add("dz-processing");if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:n,uploadprogress:function(e,t,i){var n,r,s,o,l;if(e.previewElement){o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");l=[];for(r=0,s=o.length;r<s;r++){n=o[r];if(n.nodeName==="PROGRESS"){l.push(n.value=t)}else{l.push(n.style.width=""+t+"%")}}return l}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(e){if(e.previewElement){return e.previewElement.classList.add("dz-success")}},successmultiple:n,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:n,complete:function(e){if(e._removeLink){e._removeLink.textContent=this.options.dictRemoveFile}if(e.previewElement){return e.previewElement.classList.add("dz-complete")}},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,addedfiles:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};N=function(){var e,t,i,n,r,s,o;n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[];for(s=0,o=i.length;s<o;s++){t=i[s];for(e in t){r=t[e];n[e]=r}}return n};function R(e,t){var i,n,r;this.element=e;this.version=R.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&this.element.nodeType!=null)){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}R.instances.push(this);this.element.dropzone=this;i=(r=R.optionsForElement(this.element))!=null?r:{};this.options=N({},this.defaultOptions,i,t!=null?t:{});if(this.options.forceFallback||!R.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((n=this.getExistingFallback())&&n.parentNode){n.parentNode.removeChild(n)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=R.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=R.getElements(this.options.clickable,"clickable")}}this.init()}R.prototype.getAcceptedFiles=function(){var e,t,i,n,r;n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];if(e.accepted){r.push(e)}}return r};R.prototype.getRejectedFiles=function(){var e,t,i,n,r;n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];if(!e.accepted){r.push(e)}}return r};R.prototype.getFilesWithStatus=function(e){var t,i,n,r,s;r=this.files;s=[];for(i=0,n=r.length;i<n;i++){t=r[i];if(t.status===e){s.push(t)}}return s};R.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(R.QUEUED)};R.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(R.UPLOADING)};R.prototype.getAddedFiles=function(){return this.getFilesWithStatus(R.ADDED)};R.prototype.getActiveFiles=function(){var e,t,i,n,r;n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];if(e.status===R.UPLOADING||e.status===R.QUEUED){r.push(e)}}return r};R.prototype.init=function(){var e,n,s,t,i,r,o;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(R.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){s=function(r){return function(){if(r.hiddenFileInput){r.hiddenFileInput.parentNode.removeChild(r.hiddenFileInput)}r.hiddenFileInput=document.createElement("input");r.hiddenFileInput.setAttribute("type","file");if(r.options.maxFiles==null||r.options.maxFiles>1){r.hiddenFileInput.setAttribute("multiple","multiple")}r.hiddenFileInput.className="dz-hidden-input";if(r.options.acceptedFiles!=null){r.hiddenFileInput.setAttribute("accept",r.options.acceptedFiles)}if(r.options.capture!=null){r.hiddenFileInput.setAttribute("capture",r.options.capture)}r.hiddenFileInput.style.visibility="hidden";r.hiddenFileInput.style.position="absolute";r.hiddenFileInput.style.top="0";r.hiddenFileInput.style.left="0";r.hiddenFileInput.style.height="0";r.hiddenFileInput.style.width="0";document.querySelector(r.options.hiddenInputContainer).appendChild(r.hiddenFileInput);return r.hiddenFileInput.addEventListener("change",function(){var e,t,i,n;t=r.hiddenFileInput.files;if(t.length){for(i=0,n=t.length;i<n;i++){e=t[i];r.addFile(e)}}r.emit("addedfiles",t);return s()})}}(this);s()}this.URL=(r=window.URL)!=null?r:window.webkitURL;o=this.events;for(t=0,i=o.length;t<i;t++){e=o[t];this.on(e,this.options[e])}this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this));this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this));this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this));this.on("complete",function(t){return function(e){if(t.getAddedFiles().length===0&&t.getUploadingFiles().length===0&&t.getQueuedFiles().length===0){return setTimeout(function(){return t.emit("queuecomplete")},0)}}}(this));n=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}else{return e.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){n(e);return t.emit("dragenter",e)}}(this),dragover:function(i){return function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy";n(e);return i.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){n(e);return t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}];this.clickableElements.forEach(function(i){return function(t){return i.listeners.push({element:t,events:{click:function(e){if(t!==i.element||(e.target===i.element||R.elementInside(e.target,i.element.querySelector(".dz-message")))){i.hiddenFileInput.click()}return true}}})}}(this));this.enable();return this.options.init.call(this)};R.prototype.destroy=function(){var e;this.disable();this.removeAllFiles(true);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return R.instances.splice(R.instances.indexOf(this),1)};R.prototype.updateTotalUploadProgress=function(){var e,t,i,n,r,s,o,l;n=0;i=0;e=this.getActiveFiles();if(e.length){l=this.getActiveFiles();for(s=0,o=l.length;s<o;s++){t=l[s];n+=t.upload.bytesSent;i+=t.upload.total}r=100*n/i}else{r=100}return this.emit("totaluploadprogress",r,i,n)};R.prototype._getParamName=function(e){if(typeof this.options.paramName==="function"){return this.options.paramName(e)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}};R.prototype._renameFilename=function(e){if(typeof this.options.renameFilename!=="function"){return e}return this.options.renameFilename(e)};R.prototype.getFallbackForm=function(){var e,t,i,n;if(e=this.getExistingFallback()){return e}i='<div class="dz-fallback">';if(this.options.dictFallbackText){i+="<p>"+this.options.dictFallbackText+"</p>"}i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';t=R.createElement(i);if(this.element.tagName!=="FORM"){n=R.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');n.appendChild(t)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return n!=null?n:t};R.prototype.getExistingFallback=function(){var e,t,i,n,r,s;t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];if(/(^| )fallback($| )/.test(t.className)){return t}}};s=["div","form"];for(n=0,r=s.length;n<r;n++){i=s[n];if(e=t(this.element.getElementsByTagName(i))){return e}}};R.prototype.setupEventListeners=function(){var i,n,r,e,t,s,o;s=this.listeners;o=[];for(e=0,t=s.length;e<t;e++){i=s[e];o.push(function(){var e,t;e=i.events;t=[];for(n in e){r=e[n];t.push(i.element.addEventListener(n,r,false))}return t}())}return o};R.prototype.removeEventListeners=function(){var i,n,r,e,t,s,o;s=this.listeners;o=[];for(e=0,t=s.length;e<t;e++){i=s[e];o.push(function(){var e,t;e=i.events;t=[];for(n in e){r=e[n];t.push(i.element.removeEventListener(n,r,false))}return t}())}return o};R.prototype.disable=function(){var e,t,i,n,r;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")});this.removeEventListeners();n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];r.push(this.cancelUpload(e))}return r};R.prototype.enable=function(){this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()};R.prototype.filesize=function(e){var t,i,n,r,s,o,l,a;n=0;r="b";if(e>0){o=["TB","GB","MB","KB","b"];for(i=l=0,a=o.length;l<a;i=++l){s=o[i];t=Math.pow(this.options.filesizeBase,4-i)/10;if(e>=t){n=e/Math.pow(this.options.filesizeBase,4-i);r=s;break}}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+r};R.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};R.prototype.drop=function(e){var t,i;if(!e.dataTransfer){return}this.emit("drop",e);t=e.dataTransfer.files;this.emit("addedfiles",t);if(t.length){i=e.dataTransfer.items;if(i&&i.length&&i[0].webkitGetAsEntry!=null){this._addFilesFromItems(i)}else{this.handleFiles(t)}}};R.prototype.paste=function(e){var t,i;if((e!=null?(i=e.clipboardData)!=null?i.items:void 0:void 0)==null){return}this.emit("paste",e);t=e.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}};R.prototype.handleFiles=function(e){var t,i,n,r;r=[];for(i=0,n=e.length;i<n;i++){t=e[i];r.push(this.addFile(t))}return r};R.prototype._addFilesFromItems=function(e){var t,i,n,r,s;s=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(i.webkitGetAsEntry!=null&&(t=i.webkitGetAsEntry())){if(t.isFile){s.push(this.addFile(i.getAsFile()))}else if(t.isDirectory){s.push(this._addFilesFromDirectory(t,t.name))}else{s.push(void 0)}}else if(i.getAsFile!=null){if(i.kind==null||i.kind==="file"){s.push(this.addFile(i.getAsFile()))}else{s.push(void 0)}}else{s.push(void 0)}}return s};R.prototype._addFilesFromDirectory=function(e,s){var t,i,o;t=e.createReader();i=function(e){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(e):void 0:void 0};o=function(r){return function(){return t.readEntries(function(e){var t,i,n;if(e.length>0){for(i=0,n=e.length;i<n;i++){t=e[i];if(t.isFile){t.file(function(e){if(r.options.ignoreHiddenFiles&&e.name.substring(0,1)==="."){return}e.fullPath=""+s+"/"+e.name;return r.addFile(e)})}else if(t.isDirectory){r._addFilesFromDirectory(t,""+s+"/"+t.name)}}o()}return null},i)}}(this);return o()};R.prototype.accept=function(e,t){if(e.size>this.options.maxFilesize*1024*1024){return t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!R.isValidFile(e,this.options.acceptedFiles)){return t(this.options.dictInvalidFileType)}else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",e)}else{return this.options.accept.call(this,e,t)}};R.prototype.addFile=function(i){i.upload={progress:0,total:i.size,bytesSent:0};this.files.push(i);i.status=R.ADDED;this.emit("addedfile",i);this._enqueueThumbnail(i);return this.accept(i,function(t){return function(e){if(e){i.accepted=false;t._errorProcessing([i],e)}else{i.accepted=true;if(t.options.autoQueue){t.enqueueFile(i)}}return t._updateMaxFilesReachedClass()}}(this))};R.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];this.enqueueFile(t)}return null};R.prototype.enqueueFile=function(e){if(e.status===R.ADDED&&e.accepted===true){e.status=R.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};R.prototype._thumbnailQueue=[];R.prototype._processingThumbnail=false;R.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)}};R.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){e._processingThumbnail=false;return e._processThumbnailQueue()}}(this))};R.prototype.removeFile=function(e){if(e.status===R.UPLOADING){this.cancelUpload(e)}this.files=r(this.files,e);this.emit("removedfile",e);if(this.files.length===0){return this.emit("reset")}};R.prototype.removeAllFiles=function(e){var t,i,n,r;if(e==null){e=false}r=this.files.slice();for(i=0,n=r.length;i<n;i++){t=r[i];if(t.status!==R.UPLOADING||e){this.removeFile(t)}}return null};R.prototype.createThumbnail=function(t,i){var n;n=new FileReader;n.onload=function(e){return function(){if(t.type==="image/svg+xml"){e.emit("thumbnail",t,n.result);if(i!=null){i()}return}return e.createThumbnailFromUrl(t,n.result,i)}}(this);return n.readAsDataURL(t)};R.prototype.createThumbnailFromUrl=function(u,e,p,t){var d;d=document.createElement("img");if(t){d.crossOrigin=t}d.onload=function(a){return function(){var e,t,i,n,r,s,o,l;u.width=d.width;u.height=d.height;i=a.options.resize.call(a,u);if(i.trgWidth==null){i.trgWidth=i.optWidth}if(i.trgHeight==null){i.trgHeight=i.optHeight}e=document.createElement("canvas");t=e.getContext("2d");e.width=i.trgWidth;e.height=i.trgHeight;c(t,d,(r=i.srcX)!=null?r:0,(s=i.srcY)!=null?s:0,i.srcWidth,i.srcHeight,(o=i.trgX)!=null?o:0,(l=i.trgY)!=null?l:0,i.trgWidth,i.trgHeight);n=e.toDataURL("image/png");a.emit("thumbnail",u,n);if(p!=null){return p()}}}(this);if(p!=null){d.onerror=p}return d.src=e};R.prototype.processQueue=function(){var e,t,i,n;t=this.options.parallelUploads;i=this.getUploadingFiles().length;e=i;if(i>=t){return}n=this.getQueuedFiles();if(!(n.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(n.slice(0,t-i))}else{while(e<t){if(!n.length){return}this.processFile(n.shift());e++}}};R.prototype.processFile=function(e){return this.processFiles([e])};R.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];t.processing=true;t.status=R.UPLOADING;this.emit("processing",t)}if(this.options.uploadMultiple){this.emit("processingmultiple",e)}return this.uploadFiles(e)};R.prototype._getFilesWithXhr=function(r){var s,e;return e=function(){var e,t,i,n;i=this.files;n=[];for(e=0,t=i.length;e<t;e++){s=i[e];if(s.xhr===r){n.push(s)}}return n}.call(this)};R.prototype.cancelUpload=function(e){var t,i,n,r,s,o,l;if(e.status===R.UPLOADING){i=this._getFilesWithXhr(e.xhr);for(n=0,s=i.length;n<s;n++){t=i[n];t.status=R.CANCELED}e.xhr.abort();for(r=0,o=i.length;r<o;r++){t=i[r];this.emit("canceled",t)}if(this.options.uploadMultiple){this.emit("canceledmultiple",i)}}else if((l=e.status)===R.ADDED||l===R.QUEUED){e.status=R.CANCELED;this.emit("canceled",e);if(this.options.uploadMultiple){this.emit("canceledmultiple",[e])}}if(this.options.autoProcessQueue){return this.processQueue()}};U=function(){var e,t;t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[];if(typeof t==="function"){return t.apply(this,e)}return t};R.prototype.uploadFile=function(e){return this.uploadFiles([e])};R.prototype.uploadFiles=function(d){var c,e,n,t,i,r,s,o,l,a,u,p,h,f,m,g,v,y,F,w,E,b,C,k,z,L,x,A,T,D,S,_,M,I;F=new XMLHttpRequest;for(w=0,k=d.length;w<k;w++){c=d[w];c.xhr=F}p=U(this.options.method,d);v=U(this.options.url,d);F.open(p,v,true);F.withCredentials=!!this.options.withCredentials;m=null;n=function(n){return function(){var e,t,i;i=[];for(e=0,t=d.length;e<t;e++){c=d[e];i.push(n._errorProcessing(d,m||n.options.dictResponseError.replace("{{statusCode}}",F.status),F))}return i}}(this);g=function(p){return function(e){var t,i,n,r,s,o,l,a,u;if(e!=null){i=100*e.loaded/e.total;for(n=0,o=d.length;n<o;n++){c=d[n];c.upload={progress:i,total:e.total,bytesSent:e.loaded}}}else{t=true;i=100;for(r=0,l=d.length;r<l;r++){c=d[r];if(!(c.upload.progress===100&&c.upload.bytesSent===c.upload.total)){t=false}c.upload.progress=i;c.upload.bytesSent=c.upload.total}if(t){return}}u=[];for(s=0,a=d.length;s<a;s++){c=d[s];u.push(p.emit("uploadprogress",c,i,c.upload.bytesSent))}return u}}(this);F.onload=function(i){return function(t){var e;if(d[0].status===R.CANCELED){return}if(F.readyState!==4){return}m=F.responseText;if(F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json")){try{m=JSON.parse(m)}catch(e){t=e;m="Invalid JSON response from server."}}g();if(!(200<=(e=F.status)&&e<300)){return n()}else{return i._finished(d,m,t)}}}(this);F.onerror=function(e){return function(){if(d[0].status===R.CANCELED){return}return n()}}(this);f=(T=F.upload)!=null?T:F;f.onprogress=g;r={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){N(r,this.options.headers)}for(t in r){i=r[t];if(i){F.setRequestHeader(t,i)}}e=new FormData;if(this.options.params){D=this.options.params;for(u in D){y=D[u];e.append(u,y)}}for(E=0,z=d.length;E<z;E++){c=d[E];this.emit("sending",c,F,e)}if(this.options.uploadMultiple){this.emit("sendingmultiple",d,F,e)}if(this.element.tagName==="FORM"){S=this.element.querySelectorAll("input, textarea, select, button");for(b=0,L=S.length;b<L;b++){o=S[b];l=o.getAttribute("name");a=o.getAttribute("type");if(o.tagName==="SELECT"&&o.hasAttribute("multiple")){_=o.options;for(C=0,x=_.length;C<x;C++){h=_[C];if(h.selected){e.append(l,h.value)}}}else if(!a||(M=a.toLowerCase())!=="checkbox"&&M!=="radio"||o.checked){e.append(l,o.value)}}}for(s=A=0,I=d.length-1;0<=I?A<=I:A>=I;s=0<=I?++A:--A){e.append(this._getParamName(s),d[s],this._renameFilename(d[s].name))}return this.submitRequest(F,e,d)};R.prototype.submitRequest=function(e,t,i){return e.send(t)};R.prototype._finished=function(e,t,i){var n,r,s;for(r=0,s=e.length;r<s;r++){n=e[r];n.status=R.SUCCESS;this.emit("success",n,t,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("successmultiple",e,t,i);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};R.prototype._errorProcessing=function(e,t,i){var n,r,s;for(r=0,s=e.length;r<s;r++){n=e[r];n.status=R.ERROR;this.emit("error",n,t,i);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("errormultiple",e,t,i);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};return R}(t);o.version="4.3.0";o.options={};o.optionsForElement=function(e){if(e.getAttribute("id")){return o.options[i(e.getAttribute("id"))]}else{return void 0}};o.instances=[];o.forElement=function(e){if(typeof e==="string"){e=document.querySelector(e)}if((e!=null?e.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return e.dropzone};o.autoDiscover=true;o.discover=function(){var e,t,s,i,n,r;if(document.querySelectorAll){s=document.querySelectorAll(".dropzone")}else{s=[];e=function(e){var t,i,n,r;r=[];for(i=0,n=e.length;i<n;i++){t=e[i];if(/(^| )dropzone($| )/.test(t.className)){r.push(s.push(t))}else{r.push(void 0)}}return r};e(document.getElementsByTagName("div"));e(document.getElementsByTagName("form"))}r=[];for(i=0,n=s.length;i<n;i++){t=s[i];if(o.optionsForElement(t)!==false){r.push(new o(t))}else{r.push(void 0)}}return r};o.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];o.isBrowserSupported=function(){var e,t,i,n,r;e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){e=false}else{r=o.blacklistedBrowsers;for(i=0,n=r.length;i<n;i++){t=r[i];if(t.test(navigator.userAgent)){e=false;continue}}}}else{e=false}return e};r=function(e,t){var i,n,r,s;s=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(i!==t){s.push(i)}}return s};i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};o.createElement=function(e){var t;t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};o.elementInside=function(e,t){if(e===t){return true}while(e=e.parentNode){if(e===t){return true}}return false};o.getElement=function(e,t){var i;if(typeof e==="string"){i=document.querySelector(e)}else if(e.nodeType!=null){i=e}if(i==null){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i};o.getElements=function(e,t){var i,n,r,s,o,l,a,u;if(e instanceof Array){r=[];try{for(s=0,l=e.length;s<l;s++){n=e[s];r.push(this.getElement(n,t))}}catch(e){i=e;r=null}}else if(typeof e==="string"){r=[];u=document.querySelectorAll(e);for(o=0,a=u.length;o<a;o++){n=u[o];r.push(n)}}else if(e.nodeType!=null){r=[e]}if(!(r!=null&&r.length)){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return r};o.confirm=function(e,t,i){if(window.confirm(e)){return t()}else if(i!=null){return i()}};o.isValidFile=function(e,t){var i,n,r,s,o;if(!t){return true}t=t.split(",");n=e.type;i=n.replace(/\/.*$/,"");for(s=0,o=t.length;s<o;s++){r=t[s];r=r.trim();if(r.charAt(0)==="."){if(e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length)!==-1){return true}}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,"")){return true}}else{if(n===r){return true}}}return false};if(typeof u!=="undefined"&&u!==null){u.fn.dropzone=function(e){return this.each(function(){return new o(this,e)})}}if(typeof p!=="undefined"&&p!==null){p.exports=o}else{window.Dropzone=o}o.ADDED="added";o.QUEUED="queued";o.ACCEPTED=o.QUEUED;o.UPLOADING="uploading";o.PROCESSING=o.UPLOADING;o.CANCELED="canceled";o.ERROR="error";o.SUCCESS="success";d=function(e){var t,i,n,r,s,o,l,a,u,p;l=e.naturalWidth;o=e.naturalHeight;i=document.createElement("canvas");i.width=1;i.height=o;n=i.getContext("2d");n.drawImage(e,0,0);r=n.getImageData(0,0,1,o).data;p=0;s=o;a=o;while(a>p){t=r[(a-1)*4+3];if(t===0){s=a}else{p=a}a=s+p>>1}u=a/o;if(u===0){return 1}else{return u}};c=function(e,t,i,n,r,s,o,l,a,u){var p;p=d(t);return e.drawImage(t,i,n,r,s,o,l,a,u/p)};e=function(t,i){var e,n,r,s,o,l,a,u,p;r=false;p=true;n=t.document;u=n.documentElement;e=n.addEventListener?"addEventListener":"attachEvent";a=n.addEventListener?"removeEventListener":"detachEvent";l=n.addEventListener?"":"on";s=function(e){if(e.type==="readystatechange"&&n.readyState!=="complete"){return}(e.type==="load"?t:n)[a](l+e.type,s,false);if(!r&&(r=true)){return i.call(t,e.type||e)}};o=function(){var t;try{u.doScroll("left")}catch(e){t=e;setTimeout(o,50);return}return s("poll")};if(n.readyState!=="complete"){if(n.createEventObject&&u.doScroll){try{p=!t.frameElement}catch(e){}if(p){o()}}n[e](l+"DOMContentLoaded",s,false);n[e](l+"readystatechange",s,false);return t[e](l+"load",s,false)}};o._autoDiscoverFunction=function(){if(o.autoDiscover){return o.discover()}};e(window,o._autoDiscoverFunction)}).call(this);return p.exports});